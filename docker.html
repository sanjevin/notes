<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Master: Complete Course Notes & Interactive Guide</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chosen Palette: Docker Professional (Blue, Slate, White) -->
    <!-- Application Structure Plan: 
         The app is designed as a "Dual-Layer Learning Hub". 
         1. Sidebar Navigation: Groups content by logical progression (Concepts -> Basics -> Storage -> Networks -> Orchestration).
         2. Main View: Dynamic content area.
            - Top: "Summary/Cheatsheet" for quick recall.
            - Bottom: "Detailed Theory" for deep study.
         3. Interactive Elements: 
            - "Architecture Lab" (Concept Map)
            - "CLI Simulator" (Command practice)
            - "Efficiency Graph" (Chart.js comparison)
         This structure allows both quick lookups during work and deep reading during interview prep.
    -->
    <!-- Visualization & Content Choices:
         1. Concepts: VM vs Container -> Chart.js Bar Chart -> Goal: Compare resource usage visually.
         2. Architecture: Client-Host-Registry -> Interactive HTML/CSS Grid with Hover States -> Goal: Show data flow.
         3. Commands: Searchable Table + Terminal Simulator -> Goal: Practice syntax safely.
         4. Compose: Interactive YAML Viewer -> Goal: Explain config structure.
         NO SVG used. NO Mermaid JS used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Terminal Simulation */
        .terminal-window {
            font-family: 'Courier New', Courier, monospace;
            background-color: #1e293b;
            color: #10b981;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .blinking-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Interactive Block Styling */
        .concept-block {
            transition: all 0.3s ease;
        }
        .concept-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Syntax Highlighting Mock */
        .yaml-key { color: #3b82f6; font-weight: bold; }
        .yaml-val { color: #10b981; }
        .docker-instruction { color: #db2777; font-weight: bold; }

        /* Dark Mode overrides */
        .dark-mode {
            background-color: #0f172a;
            color: #f1f5f9;
        }
        .dark-mode header {
            background-color: #1e293b;
            border-color: #334155;
        }
        .dark-mode header h1 { color: #f1f5f9; }
        .dark-mode #content-area { background-color: #0f172a; }
        .dark-mode .bg-white { background-color: #1e293b; border-color: #334155; }
        .dark-mode .text-slate-800 { color: #f1f5f9; }
        .dark-mode .text-slate-600 { color: #cbd5e1; }
        .dark-mode .bg-slate-50 { background-color: #1e293b; }
        .dark-mode .bg-blue-50 { background-color: #1e3a8a; color: #dbeafe; }
        .dark-mode .bg-slate-100 { background-color: #334155; }
        .dark-mode .border-slate-200 { border-color: #334155; }
        .dark-mode .text-blue-900 { color: #dbeafe; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased h-screen flex flex-col overflow-hidden transition-colors duration-300">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 h-16 flex items-center justify-between px-6 shadow-sm z-10 shrink-0">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 bg-blue-500 rounded flex items-center justify-center text-white font-bold text-xl">
                <i class="fa-brands fa-docker"></i>
            </div>
            <h1 class="text-xl font-bold text-slate-800">DockerMaster <span class="text-sm font-normal text-slate-500">| Complete Course Notes</span></h1>
        </div>
        <div class="flex items-center gap-4">
            <span class="text-xs text-slate-500 font-medium uppercase tracking-wider hidden sm:block">Interview Ready Mode</span>
            <button onclick="toggleTheme()" class="text-slate-400 hover:text-blue-600 transition-colors p-2" title="Toggle Dark/Light Mode">
                <i class="fa-solid fa-circle-half-stroke text-xl"></i>
            </button>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="flex flex-1 overflow-hidden">
        
        <!-- Sidebar Navigation -->
        <nav class="w-64 bg-slate-900 text-slate-300 flex flex-col shrink-0 overflow-y-auto transition-all duration-300" id="sidebar">
            <div class="p-4">
                <div class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Core Theory</div>
                <ul class="space-y-1">
                    <li><button onclick="loadSection('intro')" class="nav-btn w-full text-left px-3 py-2 rounded hover:bg-slate-800 hover:text-white transition-colors active-nav bg-slate-800 text-white" data-section="intro"><i class="fa-solid fa-cube w-6"></i> Introduction & Architecture</button></li>
                    <li><button onclick="loadSection('images')" class="nav-btn w-full text-left px-3 py-2 rounded hover:bg-slate-800 hover:text-white transition-colors" data-section="images"><i class="fa-solid fa-layer-group w-6"></i> Images & Dockerfile</button></li>
                    <li><button onclick="loadSection('containers')" class="nav-btn w-full text-left px-3 py-2 rounded hover:bg-slate-800 hover:text-white transition-colors" data-section="containers"><i class="fa-solid fa-box-open w-6"></i> Container Lifecycle</button></li>
                </ul>

                <div class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 mt-6">Advanced Storage & Net</div>
                <ul class="space-y-1">
                    <li><button onclick="loadSection('volumes')" class="nav-btn w-full text-left px-3 py-2 rounded hover:bg-slate-800 hover:text-white transition-colors" data-section="volumes"><i class="fa-solid fa-hard-drive w-6"></i> Data Persistence (Volumes)</button></li>
                    <li><button onclick="loadSection('networks')" class="nav-btn w-full text-left px-3 py-2 rounded hover:bg-slate-800 hover:text-white transition-colors" data-section="networks"><i class="fa-solid fa-network-wired w-6"></i> Networking</button></li>
                </ul>

                <div class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 mt-6">Orchestration</div>
                <ul class="space-y-1">
                    <li><button onclick="loadSection('compose')" class="nav-btn w-full text-left px-3 py-2 rounded hover:bg-slate-800 hover:text-white transition-colors" data-section="compose"><i class="fa-solid fa-diagram-project w-6"></i> Docker Compose</button></li>
                </ul>
            </div>
            
            <div class="mt-auto p-4 border-t border-slate-800">
                <div class="bg-slate-800 rounded p-3">
                    <p class="text-xs text-slate-400 mb-1">Status</p>
                    <div class="flex items-center gap-2 text-green-400 text-sm font-bold">
                        <i class="fa-solid fa-circle text-[10px]"></i> System Online
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto bg-slate-50 p-6 md:p-8" id="content-area">
            <!-- Content Injected via JS -->
        </main>

    </div>

    <!-- Scripts -->
    <script>
        // --- Data Store ---
        const courseData = {
            intro: {
                title: "Introduction & Architecture",
                summary: "Docker is a platform for developing, shipping, and running applications in containers. It solves the 'it works on my machine' problem by bundling code and dependencies.",
                details: `
                    <div class="space-y-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                            <h3 class="text-lg font-bold text-blue-600 mb-4">Why Docker? The VM vs Container Battle</h3>
                            <p class="mb-4 text-slate-600">Before Docker, we used Virtual Machines (VMs). VMs simulate entire hardware and run a full OS kernel for each app, which is heavy. Containers share the host OS kernel and isolate the application process, making them lightweight and fast.</p>
                            
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                                <div class="chart-container">
                                    <canvas id="vmContainerChart"></canvas>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex items-start gap-3">
                                        <div class="bg-red-100 text-red-600 p-2 rounded"><i class="fa-solid fa-server"></i></div>
                                        <div>
                                            <span class="font-bold block text-slate-800">Virtual Machines</span>
                                            <span class="text-sm text-slate-500">Hypervisor layer, Full Guest OS, Minutes to boot, GBs in size.</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-3">
                                        <div class="bg-green-100 text-green-600 p-2 rounded"><i class="fa-solid fa-box"></i></div>
                                        <div>
                                            <span class="font-bold block text-slate-800">Docker Containers</span>
                                            <span class="text-sm text-slate-500">Container Engine, Shared Kernel, Milliseconds to boot, MBs in size.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                            <h3 class="text-lg font-bold text-blue-600 mb-2">Docker Architecture</h3>
                            <p class="mb-6 text-slate-600 text-sm">Understand the data flow between components.</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="concept-block group p-4 bg-slate-50 border-2 border-slate-200 rounded-lg hover:border-blue-500">
                                    <div class="text-center mb-2"><i class="fa-solid fa-terminal text-3xl text-slate-400 group-hover:text-blue-500"></i></div>
                                    <h4 class="font-bold text-center mb-2">Client (CLI)</h4>
                                    <p class="text-xs text-slate-500">The primary way users interact with Docker. Commands like 'build' or 'run' are sent to the Daemon.</p>
                                </div>
                                <div class="concept-block group p-4 bg-slate-50 border-2 border-slate-200 rounded-lg hover:border-blue-500">
                                    <div class="text-center mb-2"><i class="fa-solid fa-gears text-3xl text-slate-400 group-hover:text-blue-500"></i></div>
                                    <h4 class="font-bold text-center mb-2">Docker Host (Daemon)</h4>
                                    <p class="text-xs text-slate-500">The core engine (dockerd). Manages Docker objects like images, containers, networks, and volumes.</p>
                                </div>
                                <div class="concept-block group p-4 bg-slate-50 border-2 border-slate-200 rounded-lg hover:border-blue-500">
                                    <div class="text-center mb-2"><i class="fa-solid fa-cloud text-3xl text-slate-400 group-hover:text-blue-500"></i></div>
                                    <h4 class="font-bold text-center mb-2">Registry</h4>
                                    <p class="text-xs text-slate-500">A storage system for Docker images. Docker Hub is the default public registry.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },
            images: {
                title: "Images & Dockerfile",
                summary: "An Image is a read-only template used to create containers. It is built from layers defined in a Dockerfile.",
                details: `
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                            <h3 class="font-bold text-blue-600 mb-4">The Dockerfile Anatomy</h3>
                            <div class="bg-slate-900 text-slate-300 p-4 rounded font-mono text-sm leading-relaxed">
                                <div class="mb-2"><span class="docker-instruction">FROM</span> node:14</div>
                                <div class="mb-2"><span class="docker-instruction">WORKDIR</span> /app</div>
                                <div class="mb-2"><span class="docker-instruction">COPY</span> package.json .</div>
                                <div class="mb-2"><span class="docker-instruction">RUN</span> npm install</div>
                                <div class="mb-2"><span class="docker-instruction">COPY</span> . . </div>
                                <div class="mb-2"><span class="docker-instruction">CMD</span> ["node", "app.js"] </div>
                            </div>
                            <p class="mt-4 text-xs text-slate-500 italic"><i class="fa-solid fa-circle-info"></i> Tip: Use separate layers for dependencies to optimize caching.</p>
                        </div>

                        <div class="space-y-4">
                            <div class="bg-blue-50 p-4 rounded-l-4 border-l-4 border-blue-500">
                                <h4 class="font-bold text-slate-800">Layers & Caching</h4>
                                <p class="text-sm text-slate-600 mt-1">Images are read-only stacks of layers. Each Dockerfile instruction creates a new layer.</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-l-4 border-l-4 border-purple-500">
                                <h4 class="font-bold text-slate-800">.dockerignore</h4>
                                <p class="text-sm text-slate-600 mt-1">Excludes files from the build context (like node_modules or .git) to keep images slim.</p>
                            </div>
                        </div>
                    </div>
                `
            },
            containers: {
                title: "Container Lifecycle",
                summary: "A container is a runnable instance of an image. It is ephemeral by default.",
                details: `
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                            <h3 class="font-bold text-blue-600 mb-4">Command Lab</h3>
                            <p class="text-sm text-slate-600 mb-4">Try: <code>docker run hello-world</code> or <code>docker ps</code></p>
                            <div class="terminal-window p-4 h-64 overflow-y-auto" id="terminalOutput">
                                <div class="mb-2 text-slate-400">Welcome to Docker Simulator v1.0</div>
                            </div>
                            <div class="mt-2 flex">
                                <span class="text-green-500 mr-2 font-mono">$</span>
                                <input type="text" id="terminalInput" class="w-full bg-transparent border-none outline-none font-mono text-slate-800" placeholder="Type command..." autocomplete="off">
                            </div>
                        </div>
                    </div>
                `
            },
            volumes: {
                title: "Data Persistence",
                summary: "Volumes are the preferred mechanism for persisting data generated and used by Docker containers.",
                details: `
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <h3 class="font-bold text-blue-600 mb-2">Volumes vs Bind Mounts</h3>
                        <p class="text-slate-600 text-sm mb-4">Volumes are managed by Docker. Bind mounts depend on the directory structure of the host machine.</p>
                    </div>
                `
            },
            networks: {
                title: "Networking",
                summary: "Docker networking allows containers to communicate with each other and the outside world.",
                details: `<div class="bg-white p-6 border border-slate-200 rounded-lg"><p class="text-slate-600">Default networks include bridge, host, and none.</p></div>`
            },
            compose: {
                title: "Docker Compose",
                summary: "A tool for defining and running multi-container applications using a YAML file.",
                details: `<div class="bg-slate-900 text-slate-300 p-6 rounded-lg font-mono text-sm"><span class="yaml-key">services:</span><br>&nbsp;&nbsp;<span class="yaml-key">web:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="yaml-key">image:</span> <span class="yaml-val">nginx</span></div>`
            }
        };

        let currentTheme = 'light';

        function toggleTheme() {
            const body = document.body;
            if (currentTheme === 'light') {
                body.classList.add('dark-mode');
                currentTheme = 'dark';
            } else {
                body.classList.remove('dark-mode');
                currentTheme = 'light';
            }
            
            // Re-render chart to ensure colors stay readable if visible
            const activeNav = document.querySelector('.active-nav');
            if (activeNav && activeNav.dataset.section === 'intro') {
                initVMChart();
            }
        }

        function loadSection(sectionId) {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-slate-800', 'text-white', 'active-nav');
                if (btn.dataset.section === sectionId) {
                    btn.classList.add('bg-slate-800', 'text-white', 'active-nav');
                }
            });

            const data = courseData[sectionId];
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="max-w-5xl mx-auto opacity-0 translate-y-4 transition-all duration-500 ease-out" id="section-wrapper">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold text-slate-800 mb-2">${data.title}</h2>
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded text-blue-900">
                            <span class="font-bold text-xs uppercase tracking-wide opacity-70">Context</span>
                            <p class="text-lg">${data.summary}</p>
                        </div>
                    </div>
                    <div id="details-view">${data.details}</div>
                </div>
            `;

            setTimeout(() => {
                const wrap = document.getElementById('section-wrapper');
                wrap.classList.remove('opacity-0', 'translate-y-4');
                wrap.classList.add('opacity-100', 'translate-y-0');
            }, 10);

            if (sectionId === 'intro') initVMChart();
            if (sectionId === 'containers') initTerminal();
        }

        let vmChartInstance = null;
        function initVMChart() {
            const canvas = document.getElementById('vmContainerChart');
            if (!canvas) return;

            if (vmChartInstance) vmChartInstance.destroy();

            const isDark = currentTheme === 'dark';
            const textColor = isDark ? '#f1f5f9' : '#1e293b';

            vmChartInstance = new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: ['Startup Time', 'Image Size', 'Efficiency'],
                    datasets: [
                        {
                            label: 'VM',
                            data: [60, 2000, 40],
                            backgroundColor: 'rgba(239, 68, 68, 0.7)',
                            borderColor: '#ef4444',
                            borderWidth: 1
                        },
                        {
                            label: 'Container',
                            data: [1, 100, 95],
                            backgroundColor: 'rgba(16, 185, 129, 0.7)',
                            borderColor: '#10b981',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: textColor } }
                    },
                    scales: {
                        y: { 
                            beginAtZero: true,
                            grid: { color: isDark ? '#334155' : '#e2e8f0' },
                            ticks: { color: textColor }
                        },
                        x: {
                            ticks: { color: textColor }
                        }
                    }
                }
            });
        }

        function initTerminal() {
            const input = document.getElementById('terminalInput');
            const output = document.getElementById('terminalOutput');
            if (!input) return;

            input.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    const cmd = this.value.trim();
                    this.value = '';
                    const line = document.createElement('div');
                    line.innerHTML = `<span class="text-green-500">$</span> ${cmd}`;
                    output.appendChild(line);

                    let res = '';
                    if (cmd === 'docker run hello-world') res = 'Hello from Docker! Container executed successfully.';
                    else if (cmd === 'docker ps') res = 'CONTAINER ID   IMAGE     STATUS\n8f9e23...    nginx     Up 2 mins';
                    else if (cmd) res = `Executing: ${cmd}... done.`;

                    const respLine = document.createElement('div');
                    respLine.className = "text-slate-300 mb-2 whitespace-pre-wrap text-xs";
                    respLine.innerText = res;
                    output.appendChild(respLine);
                    output.scrollTop = output.scrollHeight;
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => loadSection('intro'));
    </script>
</body>
</html>
